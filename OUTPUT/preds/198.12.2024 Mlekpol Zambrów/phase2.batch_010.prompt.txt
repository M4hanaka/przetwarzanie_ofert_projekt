
You extract structured information from PDF commercial offers.

CONTEXT:
- The offers are directed to a specific buyer (for example a production company).
- Supplier fields always describe the company that SENDS the offer.
- The input you receive is plain text extracted from a PDF file.

GENERAL RULES:
- Work ONLY on text between [PDF_TEXT_START] and [PDF_TEXT_END].
- Ignore all service-type items:
  transport, installation, inspections, maintenance, travel costs,
  surcharges, "Dopłata", "Praca serwisu", etc.
- Extract ONLY physical goods (products, components, materials).
- Keep all product descriptions ("opis") in the original language from the PDF (usually Polish).
  Do NOT translate to English.

MISSING DATA RULES:
- If a field is missing:
  - textual  -> "",
  - date     -> null,
  - numeric  -> 0 or 0.0.

VERY IMPORTANT – DO NOT GUESS:
- If you are not sure that a value is present in the text, leave the corresponding field
  empty ("") or 0.0 / null.
- An empty field is better than an invented or incorrect value.


PHASE 2 TASK: DETAILED ITEMS (MINIMAL OfferItem SCHEMA)

You will receive:
- the same offer text,
- a subset of items from Phase 1 ("items_preview").

For EACH of these preview items produce one fully detailed object
according to the OfferItem schema with EXACTLY the following fields:

- "id": primary key for the item, use a simple running counter "1", "2", "3", ...
- "id_oferty": offer ID for all items in this file (if unknown, use an empty string "").
- "opis": original description of the item, based on the PDF text (do not translate).
- "grupa_materialow": material group or product category inferred from the context.
- "numer_oem": main OEM / article / item number for this product.
- "producent": manufacturer name.
- "serial_numbers": other identification or classification codes (CN, PKWiU, indices, etc.).

GENERAL RULES FOR ALL FIELDS:
- Use only information that appears in the offer text between [PDF_TEXT_START] and [PDF_TEXT_END].
- Do NOT invent values that are not supported by the text.
- If a field is missing, use an empty string "".
- Prefer empty fields over guessed or incorrect values.

VERY IMPORTANT – MISSING DATA:
- If the offer text does not clearly specify an offer ID, OEM number, manufacturer,
  or other codes, leave the corresponding field empty ("").
- Empty is BETTER than incorrect. Never fabricate a product code or manufacturer.

DESCRIPTION FIELD ("opis"):
- Do NOT append price, discounts, totals or other numeric columns to "opis".
- Do NOT copy "kwota_ceny_oferty" into "opis".
- "opis" must describe ONLY the product itself (name, type, variant, parameters) and MUST NOT contain the OEM/article number.
- If the preview opis begins with a product code-like token
  (short alphanumeric code, often with dashes/slashes),
  ALWAYS remove it from "opis" and put it into "numer_oem".
- If the leading token is clearly NOT a product code (e.g. "LP", "JM", "szt.", "Cena"),
  then do NOT treat it as numer_oem.
- After removing the OEM from the start, keep everything else exactly as in the PDF (no translation, no rewriting).

TABLE STRUCTURE AND COLUMN MAPPING:

Whenever possible, use the table headers to map columns to fields. Typical mappings:

- "Kod produktu", "Kod", "Nr artykułu", "Numer artykułu", "Symbol", "ID"
  → candidate for "numer_oem".
- "Nazwa", "Nazwa produktu", "Nazwa towaru/usługi"
  → main product name used in "opis".
- "CN", "PKWiU", "Indeks", "Nr magazynowy"
  → candidates for "serial_numbers" (classification or internal codes).

Examples of table headers:
- "Lp Kod produktu Nazwa produktu Ilość Cena/sztukę Cena końcowa"
  • numer_oem from "Kod produktu"
  • opis built mainly from "Nazwa produktu"
- "Poz. Nr artykułu Ilość j.m. Cena jednostkowa Cena"
  • numer_oem from "Nr artykułu"
  • opis built from product name / description column
- "Lp. Nazwa towaru/usługi Dostępność Ilość jm. Cena przed rabatem Rabat % Cena netto Wartość netto VAT"
  • typically NO dedicated product code column; in such case numer_oem may be empty if no clear code is present.

Never treat columns such as "Dostępność", "Rabat %", "VAT", "Cena", "Wartość netto", "Wartość brutto"
as sources of product codes.

KEY FIELDS (MUST NOT BE GUESSED):

ADDITIONAL RULES FOR PRODUCT CODES (IMPORTANT):

- If the table contains labels like:
  "Nr produktu", "Nr produktu SICK", "Indeks", "Code", "Item code", "Material", "Article No."
  treat the value as the main product code -> put it into "numer_oem".
- Do NOT put such product codes into "serial_numbers".

1) numer_oem

- This is the MAIN product code (OEM / article / item number).
- Prefer values from dedicated columns with headers like:
  "Kod produktu", "Kod", "Nr artykułu", "Numer artykułu", "Symbol", "ID".
- If there is NO dedicated column, you may treat as numer_oem a short alphanumeric code
  at the very beginning of the row, placed before the product name and separated by a space or dash,
  for example: "ABC-123 - Moduł wejściowy 24V DC".
- NEVER assign CN, PKWiU, HS, tariff numbers, or any long numeric codes (8+ digits) to "numer_oem".
- If a row contains:
  • a short article number (e.g. "1119902", "3RH2911-1HA22") AND
  • classification codes ("CN: 85369010", "PKWiU 27.33.13.0"),
  then:
  • numer_oem = short article number
  • serial_numbers = "CN: ...;PKWiU: ..."
- If you are NOT sure that a value is a product code, set "numer_oem" to an empty string "".
- If the preview opis contains a product code at the beginning
  (e.g. "ABC-123 - Opis produktu", "4500123 O-ring"),
  this code must be extracted into "numer_oem" and removed from "opis".
- The final opis must NEVER contain the OEM/article number.


STRICT EXCLUSIONS FOR serial_numbers (MANDATORY):
- serial_numbers MUST NOT contain:
  prices (PLN/EUR), discounts (Rabat), VAT, totals (Wartość),
  quantities (Ilość, J.m., szt.), delivery/availability (na stanie, termin realizacji),
  URLs (http/https/www), or any logistics notes.
- If you see only such information and no real codes, set serial_numbers to "".

2) serial_numbers

- This field collects all identification or classification codes related to the item
  that are NOT the main OEM/article number.
- Typical examples:
  • customs codes (e.g. "CN 85369010"),
  • PKWiU codes,
  • internal warehouse numbers or catalogue indices,
  • any additional structured codes that clearly refer to this item.
- If a header contains words "CN", "PKWiU", "Indeks", "Nr magazynowy", etc.,
  you may treat the values from that column as elements of "serial_numbers".
- Merge all such codes into ONE string separated by semicolons, for example:
  "CN: 85369010;PKWiU: 27.33.13.0;ID: 123456".
- Always add prefixes like "CN:" or "PKWiU:" when the code type is clear.
- Do NOT include pure technical parameters such as voltage, current, power, frequency,
  IP rating, dimensions, weight, etc.
- Do NOT duplicate numer_oem here (even if the same number appears again with a different label).
- If you do not see any such codes, set "serial_numbers" to "".




OTHER FIELDS:

- id:
  • Use a simple integer-like string "1", "2", "3", ...
  • The order should follow the order of items in Phase 1.

- id_oferty:
  • If an offer ID is visible in the header or in a dedicated field, copy it exactly.
  • If multiple IDs are present, use the one that clearly identifies the offer document.
  • If you cannot find any offer ID, use an empty string "".

  To extract id_oferty, search the header for typical patterns:
  - "Numer / Data wystawienia: <ID> / <date>"
  - "Oferta Nr <ID>"
  - "Offer No.: <ID>"
  - "Numer Oferty / data <ID>"
  If multiple values look like offer IDs, choose the one explicitly labeled as the offer number.
  If none exists, set "".

- grupa_materialow:
  • Assign a short, general category based on the description and context of the item.
  • Examples of categories: "złączki", "kable", "wyłączniki", "bezpieczniki",
    "akcesoria montażowe", "automatyka", "mechanika", "inne".
  • If you are not sure, choose the closest reasonable category.

- producent:
  • Use the manufacturer name present directly in the item line or clearly associated with the product
    (e.g. SIEMENS, LAPP, SICK, KRONES).
  • DO NOT copy the supplier name (distributor) into "producent" unless the PDF explicitly states
    that the supplier is also the manufacturer.
  • If no manufacturer can be determined with certainty, set producent to "".

STRICT CARDINALITY CONSTRAINT (CRUCIAL):

You are given exactly 3 preview items (Item 31 to Item 33).
For EACH input item you MUST return EXACTLY ONE OfferItem object.

- The output JSON ARRAY MUST contain exactly 3 elements.
- The order of objects in the output array MUST match the order of input items
  (first object corresponds to Item 31, last object to Item 33).
- Do NOT merge different items into one object.
- Do NOT create any additional or synthetic items.
- Do NOT repeat the same item multiple times.
- If you are uncertain, still return exactly one best-effort object per input item,
  but never invent fields that are not visible in the text.

ITEMS TO PROCESS:

Item 31 (preview):
  opis: 230014 Filter
  kwota_ceny_oferty: 15.15

Item 32 (preview):
  opis: 0133774 Bellows
  kwota_ceny_oferty: 60.72

Item 33 (preview):
  opis: 190044-1 Ball
  kwota_ceny_oferty: 60.12


OUTPUT FORMAT (MANDATORY):

Provide the result as a JSON ARRAY of OfferItem objects following the schema above.
The array MUST have exactly 3 elements and MUST be the ONLY thing in your answer.
Return only ONE JSON array and NO additional text, comments or explanations.


[PDF_TEXT_START]
=== PAGE 1 TEXT ===
DKW SERVICE dn.27.12.2024 Jonkowo
NABYWCA: SPRZEDAW CA:
SM ,,Mlekpol” DKW SERVICE DANIEL
ZPM Mlekpol Zambrów Ul. Brzozowa 18 11-042 Jonkowo Poland
Ul.Polowa 8 18-300 Zambrów Tel. 600397398 e-mail: dkwservice@wp.pl
NIP: 7190000425 Tel. 603797074
Numer klienta: 105
Osoba kontaktowa: Robert Dudziński
Telefon: +48 600872701
Data zapytania: 20.12.2024
Data oferty: 27.12.2024
Oferta ważna do: 15.01.2025
Warunki dostawy: CPT
Strona: 1-2
Waluta: PLN
Warunki płatności: 30 dni
Oferta cenowa Nr 198/12/2024
LP Kod produktu Nazwa produktu Ilość Cena/sztukę Cena końcowa
1 140017 EFB O-ring 1 6,74 EUR 6,74 EUR
2 130027 EFB O-ring 2 10,72 EUR 21,44 EUR
3 130031S O-ring 2 2,64 EUR 5,28 EUR
4 140085 EFB O-ring 6 17,89 EUR 107,35 EUR
5 140255 EFB O-ring 6 25,22 EUR 151,34 EUR
6 140071 EFB O-ring 6 14,98 EUR 89,88 EUR
7 140117EFB O-ring 2 15,28 EUR 30,56 EUR
8 140041 EFB O-ring 2 3,98 EUR 7,96 EUR
9 140209 EFB O-ring 2 9,50 EUR 19,00 EUR
10 140113 EFB O-ring 2 23,52 EUR 47,04 EUR
11 140023 EFB O-ring 2 10,71 EUR 21,42 EUR
12 140129 EFB O-ring 2 20,02 EUR 40,04 EUR
13 140263 EFB O-ring 4 72,07 EUR 288,28 EUR
14 140234 EFB O-ring 4 16,84 EUR 67,36 EUR
15 140230 EFB O-ring 4 11,78 EUR 47,12 EUR
16 140119 O-ring 6 2,65 EUR 15,90 EUR
17 140011EFB O-ring 2 6,60 EUR 13,20 EUR
18 160131 Gasket 6 13,03 EUR 78,18 EUR
19 160130 Gasket 6 32,61 EUR 195,66 EUR
20 630005 Gasket 5 m 7,12 EUR 35,60 EUR
21 140188 O-ring 1 3,10 EUR 3,10 EUR
22 1711353P O-ring 4 169,80 EUR 679,20 EUR
23 0129226-1 Spring 12 22,22 EUR 266,64 EUR
24 95341792859 Packing 6 198,90 EUR 1193,40 EUR
25 0135096 Washer 6 203,07 EUR 1218,42 EUR
26 0134673 Washer 12 133,88 EUR 1606,56 EUR
27 0100036 Washer 2 27,50 EUR 55,00 EUR
28 0123798 Seat valv 1 215,28 EUR 215,28 EUR
29 260751 Filter 1 7,15 EUR 7,15 EUR
30 230003 Oil filter 1 40,95 EUR 40,95 EUR
31 230014 Filter 1 15,15 EUR 15,15 EUR
RGON 280513679 NIP: 5782772741 VAT UE: PL 5782772741

=== PAGE 1 TABLE 1 ===
LP | Kod produktu | Nazwa produktu | Ilość | Cena/sztukę | Cena końcowa
1 | 140017 EFB | O-ring | 1 | 6,74 EUR | 6,74 EUR
2 | 130027 EFB | O-ring | 2 | 10,72 EUR | 21,44 EUR
3 | 130031S | O-ring | 2 | 2,64 EUR | 5,28 EUR
4 | 140085 EFB | O-ring | 6 | 17,89 EUR | 107,35 EUR
5 | 140255 EFB | O-ring | 6 | 25,22 EUR | 151,34 EUR
6 | 140071 EFB | O-ring | 6 | 14,98 EUR | 89,88 EUR
7 | 140117EFB | O-ring | 2 | 15,28 EUR | 30,56 EUR
8 | 140041 EFB | O-ring | 2 | 3,98 EUR | 7,96 EUR
9 | 140209 EFB | O-ring | 2 | 9,50 EUR | 19,00 EUR
10 | 140113 EFB | O-ring | 2 | 23,52 EUR | 47,04 EUR
11 | 140023 EFB | O-ring | 2 | 10,71 EUR | 21,42 EUR
12 | 140129 EFB | O-ring | 2 | 20,02 EUR | 40,04 EUR
13 | 140263 EFB | O-ring | 4 | 72,07 EUR | 288,28 EUR
14 | 140234 EFB | O-ring | 4 | 16,84 EUR | 67,36 EUR
15 | 140230 EFB | O-ring | 4 | 11,78 EUR | 47,12 EUR
16 | 140119 | O-ring | 6 | 2,65 EUR | 15,90 EUR
17 | 140011EFB | O-ring | 2 | 6,60 EUR | 13,20 EUR
18 | 160131 | Gasket | 6 | 13,03 EUR | 78,18 EUR
19 | 160130 | Gasket | 6 | 32,61 EUR | 195,66 EUR
20 | 630005 | Gasket | 5 m | 7,12 EUR | 35,60 EUR
21 | 140188 | O-ring | 1 | 3,10 EUR | 3,10 EUR
22 | 1711353P | O-ring | 4 | 169,80 EUR | 679,20 EUR
23 | 0129226-1 | Spring | 12 | 22,22 EUR | 266,64 EUR
24 | 95341792859 | Packing | 6 | 198,90 EUR | 1193,40 EUR
25 | 0135096 | Washer | 6 | 203,07 EUR | 1218,42 EUR
26 | 0134673 | Washer | 12 | 133,88 EUR | 1606,56 EUR
27 | 0100036 | Washer | 2 | 27,50 EUR | 55,00 EUR
28 | 0123798 | Seat valv | 1 | 215,28 EUR | 215,28 EUR
29 | 260751 | Filter | 1 | 7,15 EUR | 7,15 EUR
30 | 230003 | Oil filter | 1 | 40,95 EUR | 40,95 EUR
31 | 230014 | Filter | 1 | 15,15 EUR | 15,15 EUR

=== PAGE 2 TEXT ===
DKW SERVICE dn.27.12.2024 Jonkowo
32 0133774 Bellows 6 60,72 EUR 364,32 EUR
33 190044-1 Ball 1 60,12 EUR 60,12 EUR
34 230036 Filtr 1 323,52 EUR 323,52 EUR
35 350350000 Uszczelnienie 1 180,00 EUR 180,00 EUR
siłownika
37 9995555 Transport 1 45,00 EUR 45,00 EUR
Wartość netto: 7563,16 EUR
Kwota podatku VAT 23%: 1739,52 EUR
Wartość Brutto: 9302,69 EUR
Usługa serwisowa - 1000,00 Euro (netto)
Oferta przygotowana w oparciu o zapytanie z dnia 20.12.2024 .
Oferta ważna 15.01.2025.
Osoby kontaktowe:
Dział części i serwis Daniel Piechota - +48600397398
RGON 280513679 NIP: 5782772741 VAT UE: PL 5782772741

=== PAGE 2 TABLE 1 ===
32 | 0133774 | Bellows | 6 | 60,72 EUR | 364,32 EUR
33 | 190044-1 | Ball | 1 | 60,12 EUR | 60,12 EUR
34 | 230036 | Filtr | 1 | 323,52 EUR | 323,52 EUR
35 | 350350000 | Uszczelnienie siłownika | 1 | 180,00 EUR | 180,00 EUR

=== PAGE 2 TABLE 2 ===
37 | 9995555 | Transport | 1 | 45,00 EUR | 45,00 EUR
[PDF_TEXT_END]
