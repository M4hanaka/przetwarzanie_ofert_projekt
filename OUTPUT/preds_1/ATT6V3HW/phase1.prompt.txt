
You extract structured information from PDF commercial offers.

CONTEXT:
- The offers are directed to a specific buyer (for example a production company).
- Supplier fields always describe the company that SENDS the offer.
- The input you receive is plain text extracted from a PDF file.

GENERAL RULES:
- Work ONLY on text between [PDF_TEXT_START] and [PDF_TEXT_END].
- Ignore all service-type items:
  transport, installation, inspections, maintenance, travel costs,
  surcharges, "Dopłata", "Praca serwisu", etc.
- Extract ONLY physical goods (products, components, materials).
- Keep all product descriptions ("opis") in the original language from the PDF (usually Polish).
  Do NOT translate to English.

MISSING DATA RULES:
- If a field is missing:
  - textual  -> "",
  - date     -> null,
  - numeric  -> 0 or 0.0.

VERY IMPORTANT – DO NOT GUESS:
- If you are not sure that a value is present in the text, leave the corresponding field
  empty ("") or 0.0 / null.
- An empty field is better than an invented or incorrect value.


PHASE 1 TASK: ITEMS PREVIEW FROM PRODUCT TABLES (NO HEADER FIELDS)

Your goal in this phase is to build only the 'items_preview' list.

Ignore the offer header completely:
- do NOT analyse offer numbers, dates, supplier names, addresses,
  logos, sign-off blocks or contact information.
- you may leave "id", "nazwa_dostawcy" and "data_oferty" empty or null.

Focus only on product tables and enumerated lists that describe PHYSICAL GOODS.
Treat each row of a product table as one potential item if it describes a material,
component or product.

For the OfferScan schema:
- "id": set to "" if unknown.
- "nazwa_dostawcy": set to "" if unknown.
- "data_oferty": set to null if unknown.
- "items_preview": must contain physical goods found in the text.

TABLE AND HEADER RECOGNITION (IMPORTANT):

First try to identify table headers with column names. Typical examples:

- "Lp", "L.p.", "Poz." – position number (ignore in description).
- "Kod produktu", "Kod", "Nr artykułu", "Numer artykułu", "Symbol", "ID" – product code column.
- "Nazwa", "Nazwa produktu", "Nazwa towaru/usługi" – product name column.
- "Ilość", "Ilość j.m.", "Ilość [szt.]", "j.m.", "jm." – quantity and unit (not required in description).
- "Cena/sztukę", "Cena jednostkowa", "Cena przed rabatem", "Cena netto" – unit price.
- "Cena końcowa", "Cena", "Wartość netto", "Wartość brutto" – total value.

Columns such as:
- "Dostępność", "Rabat %", "VAT", "Stawka VAT", "Wartość brutto", "Uwagi"
are additional information that you do NOT include in the product description.

For each product row:
- Build the description mainly from the product code and product name columns if they exist.
- Quantity and prices are NOT required in the description.
- You may ignore pure service lines, notes and remarks.

DESCRIPTION FIELD ("opis"):

For each physical product row in a table create one object in "items_preview" with:
- "position_id": sequential integer 1, 2, 3, ...
- "opis": short description based on the whole table row:
  • If there is a dedicated product code column ("Kod produktu", "Nr artykułu", "Symbol", "ID", etc.),
    ALWAYS keep this code together with the product name in the description.
  • If there is no dedicated product code column, but a clear code appears at the very beginning of the row
    before the product name (e.g. "ABC-123 - Moduł wejściowy 24V DC"), you MAY keep that code.
  • If you do NOT see any clear product code in the row, describe only the product name/type.
    NEVER invent a product code.
  • You may omit quantity and prices from the description, but do NOT remove an existing product code if it is present.
  • examples:
    "140017 EFB O-ring"
    "100,37036382 Driven roller"
    "8,21009886 Roller chain 1/2""

NOTE:
In Phase 1 you may keep product codes at the start of "opis".
These codes will later be extracted into "numer_oem" during Phase 2,
so do not attempt to remove or separate them here.

UNIT PRICE FIELD ("kwota_ceny_oferty"):

- "kwota_ceny_oferty": unit price as a number (float), or 0.0 if you cannot find it.
- Use unit price from columns like "Cena/sztukę", "Cena jednostkowa", "Cena netto",
  not the total value ("Cena końcowa", "Wartość netto").
- If you are not sure which number is the unit price, set "kwota_ceny_oferty" to 0.0.

OUTPUT SIZE NOTE:
- If the file contains an extremely large number of rows (hundreds),
  you may skip clearly empty or duplicated rows, but do NOT skip valid product lines.

SERVICE LINES TO IGNORE COMPLETELY (DO NOT CREATE ITEMS):
- transport, shipment, delivery, forwarding (e.g. "Koszt spedycji", "Koszt transportu")
- courier costs ("dostawa kurierska", "GLS", "UPS")
- installation, commissioning, configuration
- inspections, maintenance, service work, travel costs
- generic handling fees ("opłata manipulacyjna", "handling costs")

If a row description starts with or contains mainly these phrases,
treat it as a service and SKIP it.

Work ONLY on the text between [PDF_TEXT_START] and [PDF_TEXT_END].

The final JSON must have exactly this top-level structure:

{
  "id": "",
  "nazwa_dostawcy": "",
  "data_oferty": null,
  "items_preview": [
    {
      "position_id": 1,
      "opis": "...",
      "kwota_ceny_oferty": 0.0
    }
  ]
}

You may fill "id", "nazwa_dostawcy" and "data_oferty" as described above,
but the main goal is a correct and complete "items_preview" list.
Return only ONE JSON object and nothing else.


[PDF_TEXT_START]
=== PAGE 1 TEXT ===
nowoczesne technologie pakowania
Wrocław, 24-05-15
SPÓŁDZIELNIA MLECZARSKA
MLEKPOL W GRAJEWIE
Robert Dudziński
Polowa 8
Dot.: Oferta na części zamienne do owijarki. 18-300 Zambrów
Szanowny Panie,
w nawiązaniu do zapytania przesyłam ofertę na części zamienne do owijarek OBS Rotomatic, proszę zwrócić uwagę, że
jedna część jest w zapytaniu w dwóch pozycjach:
Lp. Numer i nazwa części Ilość Jm Cena zł/szt Razem PLN
1 RTA-3.0-17-03 a Stożek 2 szt 213,49 426,97
2 1K-ZB-0404 Rozeta M10 2 szt 19,34 38,68
3 1K-RE-0306 Pas 600-5M 2 szt 54,15 108,29
4 RTA-3.0-01-12 łożysko 4 szt 92,82 371,28
5 RTA-3.0-14-00 a Wałek 86 3 szt 1215,76 3647,28
6 RTA-2.0-00-05 wałek 4 szt 66,52 266,08
7 1K-ZB-1101 kółko Acla 15 szt 162,16 2432,43
8 1K-RE-0303 Pasek 450 3 szt 54,92 164,76
9 1K-RE-0304 Pasek 475 3 szt 58,01 174,04
10 RTA-3.0-01-25 Koło pasowe 62 1 szt 168,92 168,92
11 RTA-3.0-15-00 Walec 52 3 szt 1077,44 3232,32
12 1K-ZB-1101 Kółko Acla 20 szt 162,16 3243,24
13 1E-sq-0113 Krańcówka 2 szt 50,28 100,56
14 RTF-4.1-10.20 Guma docisku do spawania folii 4 szt 19,26 77,04
15 RTA-4.0-11.09 Taśma oporowa 6 szt 29,39 176,36
Łącznie PLN: 14628,24
Podane ceny są tylko dla wymienionych ilości.
Wszystkie ceny netto bez VAT.
Koszty wysyłki z magazynu Manuli: 30,00 / 200,00 zł netto (paczka/paleta) w zależności od sposobu wysyłki
W przypadku zmian kursów walut, lub wzrostu cen surowców do produkcji zastrzegamy sobie prawo zmiany cen
Mam nadzieję, że przedstawiona oferta odpowiada Państwa wymaganiom. W razie jakichkolwiek pytań pozostaję do
dyspozycji.
Termin płatności: przelew 30 dni.
Przybliżony termin dostawy: około 2,5 tygodnia od złożenia zamówienia
Termin ważności oferty: 15 dni
Sprzedaż części zostanie wykonana z wyłączeniem rękojmi ustawowej, a w miejsce wyłączonej rękojmi ustawowej,
udzielamy gwarancji umownej na zamówione części eksploatacyjne, na następujących zasadach: warunki gwarancji
określamy w dokumentach Kart Gwarancyjnych.
Okres gwarancji wynosi: 1 miesiąc od daty wystawienia faktury VAT przy sprzedaży wysyłkowej i samodzielnym
montażu części przez Klienta; 6 miesięcy od daty montażu przez serwis Manuli Ekobal Sp. z o.o. na podstawie osobnej
oferty.
Sprzedaż jest wykonywana na podstawie Ogólnych Warunków Umowy Sprzedaży, znajdujących się na stronie
www.manuliekobal.pl, stanowiących integralną część dokumentów sprzedaży, oraz przesyłanych na życzenie Klienta.
Zamówienia prosimy wysyłać na adres: serwis@manuliekobal.pl
Manuli Ekobal Sp. z o.o. Regon: 017334512, BDO: 000057152
54-615 Wrocław, ul. Rakietowa 50 Sąd Rejonowy Wrocław-Fabryczna,
tel.: +48 71 3467900-29 IX Wydział Gospodarczy KRS
e-mail: info@manuliekobal.pl, www.manuliekobal.pl KRS: 0000021830
NIP: 527-23-49-015 KZ: 1.550.000,00 PLN

=== PAGE 1 TABLE 1 ===
Lp. |  |  | Numer i nazwa części |  |  | Ilość |  |  | Jm |  |  | Cena zł/szt | Razem PLN
1 |  |  | RTA-3.0-17-03 a Stożek |  |  | 2 |  |  | szt |  |  | 213,49 | 426,97
2 |  |  | 1K-ZB-0404 Rozeta M10 |  |  | 2 |  |  | szt |  |  | 19,34 | 38,68
3 |  |  | 1K-RE-0306 Pas 600-5M |  |  | 2 |  |  | szt |  |  | 54,15 | 108,29
4 |  |  | RTA-3.0-01-12 łożysko |  |  | 4 |  |  | szt |  |  | 92,82 | 371,28
5 |  |  | RTA-3.0-14-00 a Wałek 86 |  |  | 3 |  |  | szt |  |  | 1215,76 | 3647,28
6 |  |  | RTA-2.0-00-05 wałek |  |  | 4 |  |  | szt |  |  | 66,52 | 266,08
 | 7 |  |  | 1K-ZB-1101 kółko Acla |  |  | 15 |  |  | szt |  | 162,16 | 2432,43
8 |  |  | 1K-RE-0303 Pasek 450 |  |  | 3 |  |  | szt |  |  | 54,92 | 164,76
9 |  |  | 1K-RE-0304 Pasek 475 |  |  | 3 |  |  | szt |  |  | 58,01 | 174,04
10 |  |  | RTA-3.0-01-25 Koło pasowe 62 |  |  | 1 |  |  | szt |  |  | 168,92 | 168,92
11 |  |  | RTA-3.0-15-00 Walec 52 |  |  | 3 |  |  | szt |  |  | 1077,44 | 3232,32
 | 12 |  |  | 1K-ZB-1101 Kółko Acla |  |  | 20 |  |  | szt |  | 162,16 | 3243,24
13 |  |  | 1E-sq-0113 Krańcówka |  |  | 2 |  |  | szt |  |  | 50,28 | 100,56
14 |  |  | RTF-4.1-10.20 Guma docisku do spawania folii |  |  | 4 |  |  | szt |  |  | 19,26 | 77,04
15 |  |  | RTA-4.0-11.09 Taśma oporowa |  |  | 6 |  |  | szt |  |  | 29,39 | 176,36
 |  |  |  |  |  |  |  |  |  |  |  | Łącznie PLN: | 14628,24

=== PAGE 2 TEXT ===
nowoczesne technologie pakowania
Serwis Manuli Ekobal Sp. z o.o.
Andrzej Szymański
Tel . 603 703 737
Manuli Ekobal Sp. z o.o. Regon: 017334512, BDO: 000057152
54-615 Wrocław, ul. Rakietowa 50 Sąd Rejonowy Wrocław-Fabryczna,
tel.: +48 71 3467900-29 IX Wydział Gospodarczy KRS
e-mail: info@manuliekobal.pl, www.manuliekobal.pl KRS: 0000021830
NIP: 527-23-49-015 KZ: 1.550.000,00 PLN
[PDF_TEXT_END]
